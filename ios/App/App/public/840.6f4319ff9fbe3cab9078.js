(self.webpackChunkdynamico=self.webpackChunkdynamico||[]).push([[840],{19840:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CameraPreviewWeb:()=>i});var n=r(16304),a=r(68384);class i extends a.Uw{start(e){var t=this;return(0,n.Z)(function*(){return new Promise(function(){var r=(0,n.Z)(function*(r,n){var a;yield navigator.mediaDevices.getUserMedia({audio:!e.disableAudio,video:!0}).then(e=>{e.getTracks().forEach(e=>e.stop())}).catch(e=>{n(e)});const i=document.getElementById("video"),o=document.getElementById(e.parent);if(i)n({message:"camera already started"});else{const i=document.createElement("video");i.id="video",i.setAttribute("class",e.className||""),"rear"!==e.position&&i.setAttribute("style","-webkit-transform: scaleX(-1); transform: scaleX(-1);");const s=navigator.userAgent.toLowerCase();if(s.includes("safari")&&!s.includes("chrome")&&(i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true")),o.appendChild(i),null===(a=navigator.mediaDevices)||void 0===a?void 0:a.getUserMedia){const a={video:{width:{ideal:e.width},height:{ideal:e.height}}};"rear"===e.position?(a.video.facingMode="environment",t.isBackCamera=!0):t.isBackCamera=!1,navigator.mediaDevices.getUserMedia(a).then(function(e){i.srcObject=e,i.play(),r()},e=>{n(e)})}}});return function(e,t){return r.apply(this,arguments)}}())})()}startRecordVideo(){var e=this;return(0,n.Z)(function*(){throw e.unimplemented("Not implemented on web.")})()}stopRecordVideo(){var e=this;return(0,n.Z)(function*(){throw e.unimplemented("Not implemented on web.")})()}stop(){return(0,n.Z)(function*(){const e=document.getElementById("video");if(e){e.pause();const t=e.srcObject.getTracks();for(const e of t)e.stop();e.remove()}})()}capture(e){var t=this;return(0,n.Z)(function*(){return new Promise(r=>{const n=document.getElementById("video"),a=document.createElement("canvas"),i=a.getContext("2d");let o;a.width=n.videoWidth,a.height=n.videoHeight,t.isBackCamera||(i.translate(n.videoWidth,0),i.scale(-1,1)),i.drawImage(n,0,0,n.videoWidth,n.videoHeight),o=null!=e.quality?a.toDataURL("image/jpeg",e.quality/100).replace("data:image/jpeg;base64,",""):a.toDataURL("image/png").replace("data:image/png;base64,",""),r({value:o})})})()}captureSample(e){var t=this;return(0,n.Z)(function*(){return t.capture(e)})()}getSupportedFlashModes(){return(0,n.Z)(function*(){throw new Error("getSupportedFlashModes not supported under the web platform")})()}setFlashMode(e){return(0,n.Z)(function*(){throw new Error("setFlashMode not supported under the web platform")})()}flip(){return(0,n.Z)(function*(){throw new Error("flip not supported under the web platform")})()}setOpacity(e){return(0,n.Z)(function*(){const t=document.getElementById("video");t&&e.opacity&&t.style.setProperty("opacity",e.opacity.toString())})()}isCameraStarted(){var e=this;return(0,n.Z)(function*(){throw e.unimplemented("Not implemented on web.")})()}}}}]);